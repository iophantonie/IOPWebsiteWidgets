<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cluster Live Maps</title>
    <link href="https://fonts.googleapis.com/css2?family=Acme&display=swap" rel="stylesheet">
    
    <style>
        /* Farben und Schriftarten */
        :root {
            --color-red: #E53935; /* Feuerrot */
            --color-dark: rgba(20, 20, 20, 0.95);
            --color-text: #f7f7f7;
            --color-light-dark: rgba(30, 30, 30, 0.95);
            --color-gold: #FFEB3B;
            --sidebar-width: 280px;
            
            --font-main: sans-serif;
            --font-header: 'Acme', var(--font-main);
        }

        body {
            background-color: transparent;
            font-family: var(--font-main);
            color: var(--color-text);
            margin: 0;
            padding: 20px; /* Etwas Abstand zum Rand */
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 100%;
            height: 100vh;
            box-sizing: border-box;
            overflow: hidden; 
        }

        /* Hauptcontainer des Widgets */
        .map-widget-container {
            background-color: var(--color-dark);
            border-radius: 12px;
            border: 3px solid var(--color-red);
            box-shadow: 0 4px 30px rgba(0, 0, 0, 0.8);
            width: 100%;
            max-width: 1800px; /* Noch breiter für Fullscreen-Feeling */
            
            /* HÖHE: Füllt den restlichen Platz */
            flex-grow: 1; 
            min-height: 600px; /* Mindesthöhe damit es nicht zu klein wird */
            margin-bottom: 20px;
            
            display: flex;
            flex-direction: column; /* Jetzt vertikal gestapelt für Header + Content */
            overflow: hidden;
            position: relative;
        }

        /* NEU: Integrierter Header */
        .main-page-header {
            font-size: 2.5rem;
            font-weight: 800;
            color: var(--color-red);
            font-family: var(--font-header);
            text-transform: uppercase;
            text-align: center;
            padding: 15px 0;
            margin: 0;
            text-shadow: 0 0 20px rgba(229, 57, 53, 0.4);
            border-bottom: 3px solid var(--color-red);
            background-color: rgba(0, 0, 0, 0.2); /* Leicht abgedunkelter Hintergrund */
            width: 100%;
            flex-shrink: 0;
        }

        /* Wrapper für Sidebar und Iframe nebeneinander */
        .map-body-wrapper {
            display: flex;
            flex-direction: row;
            flex-grow: 1;
            width: 100%;
            overflow: hidden; /* Damit Scrollbalken nur in Sidebar/Iframe entstehen */
        }

        /* --- Linke Sidebar --- */
        .map-sidebar {
            width: var(--sidebar-width);
            background-color: rgba(0, 0, 0, 0.4);
            border-right: 2px solid var(--color-red);
            display: flex;
            flex-direction: column;
            overflow-y: auto; 
            flex-shrink: 0;
            scrollbar-width: thin;
            scrollbar-color: var(--color-red) transparent;
        }

        .map-sidebar::-webkit-scrollbar {
            width: 6px;
        }
        .map-sidebar::-webkit-scrollbar-thumb {
            background-color: var(--color-red);
            border-radius: 3px;
        }

        /* Sidebar Header (Intern) */
        .sidebar-header {
            padding: 20px;
            text-align: center;
            border-bottom: 3px solid var(--color-red);
            background-color: rgba(229, 57, 53, 0.1);
        }

        .sidebar-title {
            font-family: var(--font-header);
            font-size: 1.4rem;
            color: var(--color-text);
            text-transform: uppercase;
            letter-spacing: 1px;
            margin: 0;
        }
        
        .sidebar-subtitle {
            font-size: 0.8rem;
            color: var(--color-red);
            opacity: 0.8;
            margin-top: 5px;
        }

        /* Gruppen-Header */
        .group-header {
            padding: 15px 20px 5px 20px;
            font-size: 0.9rem;
            font-weight: 700;
            color: var(--color-red);
            text-transform: uppercase;
            border-bottom: 1px dashed rgba(255, 255, 255, 0.1);
            margin-bottom: 5px;
            font-family: var(--font-header);
            margin-top: 10px;
        }
        .group-header:first-child { margin-top: 0; }

        /* Map Buttons */
        .map-btn {
            background: transparent;
            border: none;
            color: rgba(255, 255, 255, 0.7);
            padding: 12px 20px;
            text-align: left;
            cursor: pointer;
            font-size: 1rem;
            font-family: var(--font-main);
            transition: all 0.2s ease;
            border-left: 4px solid transparent;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .map-btn:hover {
            background-color: rgba(255, 255, 255, 0.05);
            color: #fff;
            padding-left: 25px; 
        }

        .map-btn.active {
            background-color: rgba(229, 57, 53, 0.15);
            color: #fff;
            border-left-color: var(--color-red);
            font-weight: 600;
        }
        
        /* Kleiner Indikator Punkt */
        .status-dot {
            height: 8px;
            width: 8px;
            background-color: #4CAF50; 
            border-radius: 50%;
            box-shadow: 0 0 5px #4CAF50;
        }

        /* --- Rechter Content Bereich (Iframe) --- */
        .iframe-wrapper {
            flex-grow: 1;
            position: relative;
            background-color: #121212;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        iframe {
            width: 100%;
            height: 100%;
            border: none;
            display: block;
        }

        /* Lade-Animation */
        .loader {
            position: absolute;
            width: 50px;
            height: 50px;
            border: 5px solid rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            border-top: 5px solid var(--color-red);
            animation: spin 1s linear infinite;
            z-index: 5;
            display: none; 
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* --- Responsive Design --- */
        @media (max-width: 900px) {
            .map-body-wrapper {
                flex-direction: column;
            }
            .map-sidebar {
                width: 100%;
                height: 200px; 
                border-right: none;
                border-bottom: 3px solid var(--color-red);
            }
            .sidebar-header {
                padding: 10px;
            }
            .sidebar-title {
                font-size: 1.2rem;
            }
            .main-page-header {
                font-size: 2rem;
            }
        }
    </style>
</head>
<body>

    <div class="map-widget-container">
        
        <!-- NEU: Integrierter Header -->
        <div class="main-page-header">Kartographie</div>

        <div class="map-body-wrapper">
            <!-- Sidebar Navigation -->
            <div class="map-sidebar">
                <div class="sidebar-header">
                    <h2 class="sidebar-title">Live Map Explorer</h2>
                    <div class="sidebar-subtitle">Wähle eine Karte</div>
                </div>

                <!-- Gruppe 1: Official Cluster -->
                <div class="group-header">Offizielle Karten Server</div>
                <button class="map-btn active" onclick="loadMap(this, 'https://asamap.axi92.at/map/84958215-568c-4047-9ff9-db8c4d5ba242')">
                    • The Island <span class="status-dot"></span>
                </button>
                <button class="map-btn" onclick="loadMap(this, 'https://asamap.axi92.at/map/ccc8a73e-f974-4d37-946f-4aed50b9562b')">
                    • The Center <span class="status-dot"></span>
                </button>
                <button class="map-btn" onclick="loadMap(this, 'https://asamap.axi92.at/map/6165e67f-2346-4db2-86ff-c30773416c6e')">
                    • Scorched Earth <span class="status-dot"></span>
                </button>
                <button class="map-btn" onclick="loadMap(this, 'https://asamap.axi92.at/map/d411cd57-576b-4362-9d68-e272a3fbde13')">
                    • Aberration <span class="status-dot"></span>
                </button>
                <button class="map-btn" onclick="loadMap(this, 'https://asamap.axi92.at/map/b92bf6a4-b984-4df8-8ffe-f731ed80c057')">
                    • Extinction <span class="status-dot"></span>
                </button>
                <button class="map-btn" onclick="loadMap(this, 'https://asamap.axi92.at/map/976ca20a-1cff-48b6-9535-5e3650a013df')">
                    • Ragnarok <span class="status-dot"></span>
                </button>
                <button class="map-btn" onclick="loadMap(this, 'https://asamap.axi92.at/map/96be59d0-055e-48aa-bf0b-1709c5929c98')">
                    • Valguero <span class="status-dot"></span>
                </button>
                <button class="map-btn" onclick="loadMap(this, 'https://asamap.axi92.at/map/0848ca90-930e-46e0-ad82-c8fdb6a0582b')">
                    • Astraeos <span class="status-dot"></span>
                </button>
                <button class="map-btn" onclick="loadMap(this, 'https://asamap.axi92.at/map/d83d9cdf-965c-4335-a34c-914055daba13')">
                    • Lost Colony <span class="status-dot"></span>
                </button>

                <!-- Gruppe 2: Mod Karten Server -->
                <div class="group-header">Mod Karten Server</div>
                <button class="map-btn" onclick="loadMap(this, 'https://asamap.axi92.at/map/c16ce741-4efa-49f1-8181-01fbdf951789')">
                    • Althemia [Premium] <span class="status-dot"></span>
                </button>
                <button class="map-btn" onclick="loadMap(this, 'https://asamap.axi92.at/map/ee5ed40a-a032-4311-8994-72e9c373ec6f')">
                    • Amissa [Free] <span class="status-dot"></span>
                </button>
                <button class="map-btn" onclick="loadMap(this, '')">
                    • Atlantis [Premium] <span class="status-dot"></span>
                </button>
                <button class="map-btn" onclick="loadMap(this, '')">
                    • Forglar [Premium] <span class="status-dot"></span>
                </button>
                <button class="map-btn" onclick="loadMap(this, 'https://asamap.axi92.at/map/ece1f5c6-4a85-481b-9b45-5011f5b9c170')">
                    • Insaluna [Free] <span class="status-dot"></span>
                </button>
                <button class="map-btn" onclick="loadMap(this, 'https://asamap.axi92.at/map/44386579-c790-40ae-8ed5-0e5f763bb08a')">
                    • Lost City [Premium] <span class="status-dot"></span>
                </button>
                <button class="map-btn" onclick="loadMap(this, '')">
                    • Nyrandil [Premium] <span class="status-dot"></span>
                </button>
                <button class="map-btn" onclick="loadMap(this, 'https://asamap.axi92.at/map/f6673f95-0f32-42fe-9678-368d0f6d54fd')">
                    • Svartalfheim [Premium] <span class="status-dot"></span>
                </button>
                <button class="map-btn" onclick="loadMap(this, '')">
                    • Temptress Lagoon [Premium] <span class="status-dot"></span>
                </button>
                
                <!-- Gruppe 2: Season Server -->
                <div class="group-header">Season Server</div>
                <button class="map-btn" onclick="loadMap(this, 'https://img.freepik.com/vektoren-premium/schwarz-weiss-overlay-schneefall-vektordekoration_569013-2317.jpg?semt=ais_hybrid&w=740&q=80')">
                    • IOP Adventures [Mod Story Rotation]<span class="status-dot"></span>
                </button>
                <button class="map-btn" onclick="loadMap(this, 'https://img.freepik.com/vektoren-premium/schwarz-weiss-overlay-schneefall-vektordekoration_569013-2317.jpg?semt=ais_hybrid&w=740&q=80')">
                    • IOP Battlegrounds [PVP]<span class="status-dot"></span>
                </button>

                <!-- Gruppe 3: Overhaul's -->
                <div class="group-header">Overhaul Server</div>
                <button class="map-btn" onclick="loadMap(this, 'https://asamap.axi92.at/map/2af1824e-cf34-4a1c-9b40-eb334c338a71')">
                    • Ark Descended [Free] <span class="status-dot"></span>
                </button>
                <button class="map-btn" onclick="loadMap(this, 'https://asamap.axi92.at/map/3f514a33-0d7d-4474-9564-018b267396ec')">
                    • Dino Overhaul 2 [Free] <span class="status-dot"></span>
                </button>
                <button class="map-btn" onclick="loadMap(this, 'https://asamap.axi92.at/map/4edcc9ae-abf5-4481-9969-31530d64e5ee')">
                    • Omega [Premium] <span class="status-dot"></span>
                </button>
                <button class="map-btn" onclick="loadMap(this, 'https://asamap.axi92.at/map/f325a3d6-3df3-4f55-8981-fc9c963d57bc')">
                    • Primal Chaos [Free] <span class="status-dot"></span>
                </button>
                <button class="map-btn" onclick="loadMap(this, 'https://asamap.axi92.at/map/e590be77-328a-4dea-b94a-9a3fd5d34bee')">
                    • Primal Nemesis [Premium] <span class="status-dot"></span>
                </button>

            </div>

            <!-- Karten Bereich -->
            <div class="iframe-wrapper">
                <div id="loader" class="loader"></div>
                <iframe id="mapFrame" src="" allowfullscreen></iframe>
            </div>
        </div>

    </div>

    <script>
        function loadMap(button, url) {
            // 1. Aktiven Status umschalten
            const buttons = document.querySelectorAll('.map-btn');
            buttons.forEach(btn => btn.classList.remove('active'));
            
            button.classList.add('active');

            // 2. Iframe laden
            const iframe = document.getElementById('mapFrame');
            const loader = document.getElementById('loader');

            if (url) {
                loader.style.display = 'block'; 
                iframe.src = url;

                iframe.onload = function() {
                    loader.style.display = 'none'; 
                };
            }
        }

        // Initialisierung: Lade die erste Karte beim Start
        document.addEventListener('DOMContentLoaded', () => {
            const activeButton = document.querySelector('.map-btn.active');
            if (activeButton) {
                // Hier URL hartcodieren oder aus dem Attribut ziehen, 
                // um sicherzustellen, dass beim Neuladen die richtige Map kommt.
                // Da onclick im HTML ist, nehmen wir hier einfach die Island URL als Default:
                const initialUrl = 'https://arkmap.axi92.at/f1df34b8-fb4e-4411-8f10-d16502d5534a';
                loadMap(activeButton, initialUrl);
            }
        });
    </script>

</body>
</html>
