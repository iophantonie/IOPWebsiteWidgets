<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IOP Start Guide Combined</title>
    <link href="https://fonts.googleapis.com/css2?family=Acme&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        /* IOP Style Variables */
        :root {
            --color-red: #E53935;
            --color-dark: rgba(20, 20, 20, 0.95);
            --color-light-dark: rgba(40, 40, 40, 0.9);
            --color-text: #f7f7f7;
            --color-gold: #FFEB3B;
            --color-info: #2196F3;
            --color-link: #6badde;
            --color-alert: #e76363;
            
            --font-main: sans-serif;
            --font-header: 'Acme', sans-serif;
        }

        * { box-sizing: border-box; }

        body {
            background-color: transparent;
            font-family: var(--font-main);
            color: var(--color-text);
            margin: 0;
            padding: 0; 
            display: flex;
            flex-direction: column;
            align-items: center;
            height: 100vh;
            width: 100vw;
            overflow: hidden; 
        }

        /* Container */
        .start-container {
            background-color: var(--color-dark);
            border-radius: 8px; 
            border: 2px solid var(--color-red);
            box-shadow: 0 4px 30px rgba(0, 0, 0, 0.8);
            width: 98%;
            height: 95vh;
            display: flex;
            flex-direction: column;
            overflow: hidden;
            position: relative;
        }

        /* Header */
        .header {
            background-image: url('https://ark2.de/uploads/monthly_2025_11/large.ASA_Malwyn_3840x2160.png.34c661f38d3c1323561b89139471be7e.png');
            background-size: cover;
            background-position: center;
            padding: 30px 20px;
            text-align: center;
            border-bottom: 2px solid var(--color-red);
            flex-shrink: 0;
            position: relative;
        }
        
        .header::before {
            content: '';
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.7);
            z-index: 0;
        }

        .header-content {
            position: relative;
            z-index: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 5px;
        }

        /* FLAGGEN SWITCHER */
        .lang-switch {
            position: absolute;
            top: 15px;
            right: 15px;
            display: flex;
            gap: 5px;
            z-index: 10;
        }
        .lang-btn {
            width: 25px; height: 16px;
            cursor: pointer;
            border-radius: 2px;
            border: 1px solid #fff;
            opacity: 0.5;
            transition: transform 0.2s, opacity 0.2s;
            box-shadow: 0 2px 5px rgba(0,0,0,0.5);
            padding: 0;
            display: block;
        }
        .lang-btn:hover, .lang-btn.active {
            opacity: 1; transform: scale(1.15);
            border-color: var(--color-gold);
            z-index: 10;
        }

        .title {
            font-family: var(--font-header);
            font-size: 2.5rem; 
            color: var(--color-red);
            text-transform: uppercase;
            margin: 0;
            text-shadow: 0 0 10px rgba(0,0,0,0.8);
            letter-spacing: 2px;
        }

        .subtitle {
            color: #ddd;
            font-size: 1rem;
            font-style: italic;
            text-shadow: 0 0 5px #000;
        }

        /* Navigation Tabs */
        .nav-tabs {
            display: flex;
            background-color: rgba(255,255,255,0.05);
            padding: 0 10px;
            overflow-x: auto;
            flex-shrink: 0;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }

        .nav-tab {
            padding: 15px 25px;
            cursor: pointer;
            font-family: var(--font-header);
            text-transform: uppercase;
            color: #aaa;
            border-bottom: 3px solid transparent;
            transition: all 0.2s;
            flex-grow: 1; 
            text-align: center;
            font-size: 1.1rem;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            white-space: nowrap;
        }

        .nav-tab:hover { color: #fff; background-color: rgba(255,255,255,0.05); }
        .nav-tab.active {
            color: var(--color-gold);
            border-bottom-color: var(--color-gold);
            background-color: rgba(255,255,255,0.02);
        }

        /* Content Area */
        .content-area {
            flex-grow: 1;
            overflow-y: auto;
            padding: 30px;
            scrollbar-width: thin;
            scrollbar-color: var(--color-red) transparent;
        }
        .content-area::-webkit-scrollbar { width: 8px; }
        .content-area::-webkit-scrollbar-thumb { background-color: var(--color-red); border-radius: 4px; }

        /* Sections */
        .section { display: none; animation: fadeIn 0.4s ease; max-width: 1000px; margin: 0 auto; }
        .section.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* Text Boxes */
        .info-box {
            background-color: var(--color-light-dark);
            padding: 25px;
            border-radius: 8px;
            margin-bottom: 25px;
            border: 1px solid rgba(255,255,255,0.1);
            line-height: 1.6;
        }
        .info-box h3 { margin-top: 0; color: var(--color-gold); font-family: var(--font-header); border-bottom: 1px solid rgba(255,255,255,0.1); padding-bottom: 10px; }
        
        .alert-box {
            background-color: rgba(231, 99, 99, 0.1);
            border-left: 4px solid var(--color-alert);
            padding: 20px;
            margin-bottom: 20px;
            border-radius: 4px;
        }
        .alert-box strong { color: var(--color-alert); display: block; margin-bottom: 10px; font-size: 1.1rem; }

        .tip-box {
            background-color: rgba(107, 173, 222, 0.1);
            border-left: 4px solid var(--color-link);
            padding: 20px;
            margin-bottom: 20px;
            border-radius: 4px;
        }
        .tip-box strong { color: var(--color-link); display: block; margin-bottom: 10px; font-size: 1.1rem; }

        /* Step Cards */
        .step-card {
            background-color: var(--color-light-dark);
            border-radius: 8px;
            border: 1px solid rgba(255,255,255,0.1);
            margin-bottom: 30px;
            overflow: hidden;
        }
        .step-header {
            background-color: rgba(0,0,0,0.3);
            padding: 15px 20px;
            border-bottom: 1px solid rgba(255,255,255,0.05);
            display: flex;
            align-items: center;
            gap: 15px;
        }
        .step-number {
            background-color: var(--color-red);
            color: #fff;
            width: 35px; height: 35px;
            border-radius: 50%;
            display: flex; align-items: center; justify-content: center;
            font-family: var(--font-header);
            font-size: 1.2rem;
            font-weight: bold;
            box-shadow: 0 0 10px rgba(229, 57, 53, 0.5);
            flex-shrink: 0;
        }
        .step-title { color: #fff; font-size: 1.1rem; font-weight: bold; }
        .step-body { padding: 20px; }
        .step-text { color: #ccc; margin-bottom: 15px; font-size: 1rem; line-height: 1.5; }
        .step-text ul { padding-left: 20px; margin-top: 5px; }
        .step-text li { margin-bottom: 5px; }
        .step-img {
            width: 100%; border-radius: 6px; border: 2px solid #444;
            cursor: pointer; transition: transform 0.2s; display: block;
        }
        .step-img:hover { transform: scale(1.01); border-color: var(--color-gold); }
        
        .video-container {
            position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden; max-width: 100%; background: #000; border-radius: 6px; margin-top: 15px;
        }
        .video-container iframe { position: absolute; top: 0; left: 0; width: 100%; height: 100%; }

        /* Link Grid */
        .link-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }
        .link-card {
            background-color: #252525;
            border: 1px solid #444;
            border-radius: 6px;
            padding: 15px;
            text-align: center;
            transition: all 0.2s;
            text-decoration: none;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 120px;
        }
        .link-card:hover { transform: translateY(-3px); border-color: var(--color-gold); background-color: #2a2a2a; }
        .link-icon { font-size: 2rem; color: var(--color-red); margin-bottom: 10px; }
        .link-title { color: #fff; font-weight: bold; margin: 0; font-family: var(--font-header); font-size: 1.1rem; }
        .link-sub { color: #888; font-size: 0.8rem; margin-top: 5px; }
        
        .tutorial-btn {
            display: inline-block; background-color: var(--color-red); color: #fff; padding: 10px 20px; border-radius: 25px; text-decoration: none; font-weight: bold; transition: background-color 0.2s;
        }
        .tutorial-btn:hover { background-color: #c62828; }

        /* Checklist */
        .checklist-item {
            background-color: var(--color-light-dark);
            padding: 15px;
            margin-bottom: 10px;
            border-radius: 6px;
            display: flex;
            align-items: center;
            gap: 15px;
            border-left: 4px solid #555;
            transition: background-color 0.2s;
        }
        .checklist-item:hover { background-color: #2a2a2a; }
        .checklist-item.important { border-left-color: var(--color-alert); }
        .checklist-item.done { border-left-color: var(--color-info); }
        
        .check-icon {
            width: 30px; height: 30px;
            border-radius: 50%;
            background: rgba(0,0,0,0.3);
            display: flex; align-items: center; justify-content: center;
            color: #888;
            font-size: 1rem;
            flex-shrink: 0;
        }
        .checklist-item.done .check-icon { color: var(--color-info); }

        /* Modal */
        .modal {
            display: none; position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.95); z-index: 1000; align-items: center; justify-content: center;
            padding: 20px;
        }
        .modal.active { display: flex; }
        .modal img { max-width: 100%; max-height: 90vh; border: 2px solid var(--color-red); border-radius: 6px; box-shadow: 0 0 30px rgba(0,0,0,0.5); }
        .close-modal { position: absolute; top: 20px; right: 20px; color: #fff; font-size: 3rem; cursor: pointer; }

        @media (max-width: 600px) {
            .title { font-size: 1.8rem; }
            .nav-tab { padding: 10px; font-size: 0.9rem; }
            .header { padding: 20px 10px; }
        }
    </style>
</head>
<body>

    <div class="start-container">
        
        <div class="header">
            <!-- 4 Flaggen -->
            <div class="lang-switch">
                <svg class="lang-btn active" id="btn-de" onclick="setLang('de')" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 5 3">
                    <rect width="5" height="3" fill="#000"/><rect width="5" height="2" y="1" fill="#D00"/><rect width="5" height="1" y="2" fill="#FFCE00"/>
                </svg>
                <svg class="lang-btn" id="btn-en" onclick="setLang('en')" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 60 30">
                    <clipPath id="s"><path d="M0,0 v30 h60 v-30 z"/></clipPath>
                    <clipPath id="t"><path d="M30,15 h30 v15 z v15 h-30 z h-30 v-15 z v-15 h30 z"/></clipPath>
                    <g clip-path="url(#s)">
                        <path d="M0,0 v30 h60 v-30 z" fill="#012169"/>
                        <path d="M0,0 L60,30 M60,0 L0,30" stroke="#fff" stroke-width="6"/>
                        <path d="M0,0 L60,30 M60,0 L0,30" clip-path="url(#t)" stroke="#C8102E" stroke-width="4"/>
                        <path d="M30,0 v30 M0,15 h60" stroke="#fff" stroke-width="10"/>
                        <path d="M30,0 v30 M0,15 h60" stroke="#C8102E" stroke-width="6"/>
                    </g>
                </svg>
                <svg class="lang-btn" id="btn-es" onclick="setLang('es')" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 750 500">
                    <rect width="750" height="500" fill="#AA151B"/>
                    <rect width="750" height="250" y="125" fill="#F1BF00"/>
                </svg>
                <svg class="lang-btn" id="btn-fr" onclick="setLang('fr')" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 600">
                    <rect width="900" height="600" fill="#ED2939"/>
                    <rect width="600" height="600" fill="#fff"/>
                    <rect width="300" height="600" fill="#002395"/>
                </svg>
            </div>

            <div class="header-content">
                <h1 class="title" id="uiTitle">Start & Server Guide</h1>
                <div class="subtitle" id="uiSubtitle">Alles für deinen perfekten Start</div>
            </div>
        </div>

        <!-- Navigation Tabs -->
        <div class="nav-tabs">
            <div class="nav-tab active" onclick="showSection('general', this)" id="navGeneral"><i class="fa-solid fa-info-circle"></i> Allgemein</div>
            <div class="nav-tab" onclick="showSection('find', this)" id="navFind"><i class="fa-solid fa-server"></i> Server Finden</div>
            <div class="nav-tab" onclick="showSection('linking', this)" id="navLinking"><i class="fa-solid fa-link"></i> Verlinkung</div>
            <div class="nav-tab" onclick="showSection('links', this)" id="navLinks"><i class="fa-solid fa-book-open"></i> Links</div>
            <div class="nav-tab" onclick="showSection('checklist', this)" id="navChecklist"><i class="fa-solid fa-list-check"></i> Checkliste</div>
        </div>

        <div class="content-area" id="contentArea">
            <!-- 1. GENERAL INFO -->
            <div id="general" class="section active"></div>

            <!-- 2. FIND SERVER -->
            <div id="find" class="section"></div>

            <!-- 3. ACCOUNT LINKING -->
            <div id="linking" class="section"></div>

            <!-- 4. LINKS -->
            <div id="links" class="section"></div>

            <!-- 5. CHECKLIST -->
            <div id="checklist" class="section"></div>
        </div>

        <!-- MODAL -->
        <div id="imgModal" class="modal">
            <span class="close-modal" onclick="closeModal()">&times;</span>
            <img id="modalImg" src="">
        </div>

    </div>

    <script>
        var activeSection = 'general';
        var currentLang = 'de';
        var modal = null;

        const translations = {
            header_title: { de: "Start & Server Guide", en: "Start & Server Guide", es: "Guía de Inicio y Servidor", fr: "Guide de Démarrage & Serveur" },
            header_subtitle: { de: "Alles für deinen perfekten Start", en: "Everything for your perfect start", es: "Todo para tu inicio perfecto", fr: "Tout pour un démarrage parfait" },
            
            nav: {
                general: { de: "Allgemein", en: "General", es: "General", fr: "Général" },
                find: { de: "Server Finden", en: "Find Server", es: "Buscar Servidor", fr: "Trouver Serveur" },
                linking: { de: "Verlinkung", en: "Linking", es: "Vinculación", fr: "Liaison" },
                links: { de: "Links & Tutorials", en: "Links & Tutorials", es: "Enlaces y Tutoriales", fr: "Liens et Tutoriels" },
                checklist: { de: "Checkliste", en: "Checklist", es: "Lista de verificación", fr: "Liste de contrôle" }
            },

            general: {
                welcome_title: { de: "Willkommen bei Infinity of Phoenix", en: "Welcome to Infinity of Phoenix", es: "Bienvenido a IOP", fr: "Bienvenue sur IOP" },
                welcome_text: { 
                    de: "Werde Teil einer frischen Community, und gestalte das Cluster und das Spielerlebnis mit uns zusammen!",
                    en: "Become part of a fresh community and shape the cluster and gaming experience with us!",
                    es: "¡Forma parte de una comunidad fresca y da forma al clúster y la experiencia de juego con nosotros!",
                    fr: "Faites partie d'une communauté fraîche et façonnez le cluster et l'expérience de jeu avec nous !"
                },
                tribe_title: { de: "Stammes-Konsistenz", en: "Tribe Consistency", es: "Consistencia de Tribu", fr: "Cohérence de la Tribu" },
                tribe_text: {
                    de: "Bitte erstelle dir nach dem Join auf unseren Servern einen Stamm. Dieser Stamm muss auf allen Servern (mit Ausnahme der Overhaul Server, IOP Adventures und dem Battleground Server) identisch sein: Gleicher Stammesname, gleiche Mitglieder und Ränge.",
                    en: "Please create a tribe after joining our servers. This tribe must be identical across all servers (except Overhaul, Adventures, Battleground): Same name, members, and ranks.",
                    es: "Por favor, crea una tribu después de unirte. Debe ser idéntica en todos los servidores (nombre, miembros, rangos), excepto Overhaul/Adventures.",
                    fr: "Veuillez créer une tribu après avoir rejoint. Elle doit être identique sur tous les serveurs (nom, membres, rangs), sauf Overhaul/Adventures."
                }
            },

            linking: {
                title: { de: "IOP System Verlinkung (Wichtig)", en: "IOP System Linking (Important)", es: "Vinculación IOP (Importante)", fr: "Liaison IOP (Important)" },
                text: {
                    de: "Ohne die IOP System Verlinkung können wir deine Profil-, Stammes- sowie Charakterdaten nicht richtig verarbeiten. Um die Features und den Tokenshop nutzen zu können, sowie Tokens und Achievements erhalten zu können, ist die Verlinkung zwingend notwendig. Die Verlinkung selbst dauert nur 2-3 Minuten.",
                    en: "Without IOP System Linking, we cannot properly process your profile, tribe, and character data. Linking is mandatory to use features, the token shop, and receive tokens/achievements. It only takes 2-3 minutes.",
                    es: "Sin la vinculación, no podemos procesar tus datos. Es obligatorio para usar funciones, tienda de fichas y logros. Toma 2-3 minutos.",
                    fr: "Sans la liaison, nous ne pouvons pas traiter vos données. La liaison est obligatoire pour les fonctionnalités, la boutique et les succès. Cela prend 2-3 minutes."
                },
                button: { de: "Jetzt verlinken", en: "Link now", es: "Vincular ahora", fr: "Lier maintenant" }
            },

            find_steps: [
                {
                    title: { de: "Suchbegriff & Kategorie", en: "Search Term & Category", es: "Término y Categoría", fr: "Terme et Catégorie" },
                    text: { 
                        de: "Achte darauf, dass du bei <strong>„Inoffiziell“</strong> unsere Server suchst.<br>Gib im Suchfeld <strong>„Infinity of Phoenix“</strong> ein.",
                        en: "Make sure to search under <strong>'Unofficial'</strong>.<br>Enter <strong>'Infinity of Phoenix'</strong> in the search field.",
                        es: "Busca en <strong>'No Oficial'</strong>.<br>Escribe <strong>'Infinity of Phoenix'</strong>.",
                        fr: "Cherchez dans <strong>'Non Officiel'</strong>.<br>Entrez <strong>'Infinity of Phoenix'</strong>."
                    },
                    img: "https://i.postimg.cc/635zr86h/12345.png"
                },
                {
                    title: { de: "Filter Einstellungen", en: "Filter Settings", es: "Filtros", fr: "Filtres" },
                    text: { 
                        de: "Achte darauf, dass unten ausschließlich <strong>„Spieler-Server zeigen“</strong> angehakt ist. Andere Filter können die Ergebnisse verbergen.",
                        en: "Make sure only <strong>'Show Player Servers'</strong> is checked at the bottom. Other filters might hide results.",
                        es: "Marca solo <strong>'Mostrar Servidores de Jugadores'</strong>.",
                        fr: "Cochez uniquement <strong>'Afficher Serveurs Joueurs'</strong>."
                    },
                    img: "https://i.postimg.cc/66DWmnsT/5678.png"
                }
            ],

            linking_steps: [
                {
                    title: { de: "Schritt 1: Login", en: "Step 1: Login", es: "Paso 1: Iniciar Sesión", fr: "Étape 1 : Connexion" },
                    text: { de: "Klicke auf den 'Login' Button auf der Website.", en: "Click the 'Login' button on the website.", es: "Haz clic en 'Login'.", fr: "Cliquez sur 'Login'." },
                    img: "https://i.postimg.cc/GmsGjnMJ/image.png"
                },
                {
                    title: { de: "Schritt 2: Plattform wählen", en: "Step 2: Choose Platform", es: "Paso 2: Plataforma", fr: "Étape 2 : Plateforme" },
                    text: { 
                        de: "Wähle deine Plattform (Empfohlen: Discord & Steam für Voting).<br><strong style='color:#e76363'>Wichtig:</strong> Keine Sonderzeichen im Steamnamen! Dies verursacht Probleme.", 
                        en: "Choose platform (Recommended: Discord & Steam for voting).<br><strong style='color:#e76363'>Important:</strong> No special characters in Steam name!",
                        es: "Elige plataforma.<br><strong>¡Sin caracteres especiales en Steam!</strong>",
                        fr: "Choisissez la plateforme.<br><strong>Pas de caractères spéciaux dans le nom Steam !</strong>"
                    },
                    img: "https://i.postimg.cc/RZxGKcVX/Login-Player.png"
                },
                {
                    title: { de: "Schritt 3: Einstellungen", en: "Step 3: Settings", es: "Paso 3: Ajustes", fr: "Étape 3 : Paramètres" },
                    text: { de: "Öffne die <strong>Settings/Einstellungen</strong> deines Spielerprofiles.", en: "Open your player profile <strong>Settings</strong>.", es: "Abre los <strong>Ajustes</strong>.", fr: "Ouvrez les <strong>Paramètres</strong>." },
                    img: "https://i.postimg.cc/Wzhhb0CM/image.png"
                },
                {
                    title: { de: "Schritt 4: Konten verknüpfen", en: "Step 4: Link Accounts", es: "Paso 4: Vincular Cuentas", fr: "Étape 4 : Lier les Comptes" },
                    text: { 
                        de: "Verknüpfe Steam (für Vote) und Discord (für Features).<br>Sobald ein Account als 'Connected' angezeigt wird, ist er verlinkt.", 
                        en: "Link Steam (voting) and Discord (features).<br>Linked when shown as 'Connected'.",
                        es: "Vincula Steam y Discord.",
                        fr: "Liez Steam et Discord."
                    },
                    img: "https://i.postimg.cc/fRhm5g6M/image.png"
                },
                {
                    title: { de: "Schritt 5: Charakter Verlinken", en: "Step 5: Link Character", es: "Paso 5: Vincular Personaje", fr: "Étape 5 : Lier Personnage" },
                    text: { 
                        de: "1. Generiere einen Code bei 'Option 2 Reverse connect code'.<br>2. Gib ingame im Lokalchat ein: <code>!connectcode DEINCODE</code><br><em>Code ist 3 Minuten gültig.</em>",
                        en: "1. Generate code at 'Option 2'.<br>2. Type in local chat: <code>!connectcode YOURCODE</code>",
                        es: "1. Genera código.<br>2. Chat local: <code>!connectcode CODIGO</code>",
                        fr: "1. Générez code.<br>2. Chat local : <code>!connectcode CODE</code>"
                    },
                    img: "" // Kein Bild im Step 5 Source Code, aber Text ist da.
                }
            ],

            links: [
                { title: { de: "IOP Verlinkung", en: "Account Linking", es: "Vinculación", fr: "Liaison" }, sub: { de: "Account verbinden", en: "Connect Account", es: "Conectar cuenta", fr: "Connecter compte" }, icon: "fa-link", url: "/page/102242-Charackter_mit_Website_verlinken" },
                { title: { de: "Server Übersicht", en: "Server List", es: "Lista Servidores", fr: "Liste Serveurs" }, sub: { de: "IPs & Links", en: "IPs & Links", es: "IPs y Enlaces", fr: "IP et Liens" }, icon: "fa-server", url: "/page/101846-server_ubersicht" },
                { title: { de: "Vote Anleitung", en: "Vote Guide", es: "Guía Voto", fr: "Guide Vote" }, sub: { de: "Punkte erhalten", en: "Get Points", es: "Obtener puntos", fr: "Obtenir points" }, icon: "fa-check-to-slot", url: "/page/102241-Vote_anleitung" },
                { title: { de: "Regelwerk", en: "Rules", es: "Reglas", fr: "Règles" }, sub: { de: "Wichtig!", en: "Important!", es: "¡Importante!", fr: "Important !" }, icon: "fa-scale-balanced", url: "/page/101673-rules" },
                { title: { de: "Modliste", en: "Mod List", es: "Lista Mods", fr: "Liste Mods" }, sub: { de: "Alle Mods", en: "All Mods", es: "Todos los mods", fr: "Tous les mods" }, icon: "fa-puzzle-piece", url: "/page/102303-modliste" },
                { title: { de: "Discord", en: "Discord", es: "Discord", fr: "Discord" }, sub: { de: "Community", en: "Community", es: "Comunidad", fr: "Communauté" }, icon: "fa-brands fa-discord", url: "https://discord.gg/3EAjMhRypk" }
            ],

            checklist: {
                title: { de: "Start-Checkliste", en: "Start Checklist", es: "Lista de inicio", fr: "Liste de démarrage" },
                items: [
                    { text: { de: "Discord beitreten", en: "Join Discord", es: "Unirse a Discord", fr: "Rejoindre Discord" }, important: false },
                    { text: { de: "ARK starten & Server suchen", en: "Start ARK & Find Server", es: "Iniciar ARK y buscar", fr: "Lancer ARK et chercher" }, important: false },
                    { text: { de: "Stamm erstellen (Identischer Name auf allen Maps!)", en: "Create Tribe (Identical Name on all maps!)", es: "Crear Tribu (¡Nombre idéntico!)", fr: "Créer Tribu (Nom identique !)" }, important: true },
                    { text: { de: "IOP Verlinkung durchführen", en: "Complete IOP Linking", es: "Completar vinculación", fr: "Compléter liaison" }, important: true },
                    { text: { de: "Voten & Belohnung abholen", en: "Vote & Collect Rewards", es: "Votar y recoger", fr: "Voter et récupérer" }, important: false }
                ]
            }
        };
        
        function setLang(lang) {
            currentLang = lang;
            
            // Buttons
            document.querySelectorAll('.lang-btn').forEach(btn => btn.classList.remove('active'));
            document.getElementById('btn-'+lang).classList.add('active');

            // Header Translations
            document.getElementById('uiTitle').innerText = translations.header_title[lang];
            document.getElementById('uiSubtitle').innerText = translations.header_subtitle[lang];

            // Nav Translations
            document.getElementById('navGeneral').innerHTML = `<i class="fa-solid fa-info-circle"></i> ${translations.nav.general[lang]}`;
            document.getElementById('navFind').innerHTML = `<i class="fa-solid fa-server"></i> ${translations.nav.find[lang]}`;
            document.getElementById('navLinking').innerHTML = `<i class="fa-solid fa-link"></i> ${translations.nav.linking[lang]}`;
            document.getElementById('navLinks').innerHTML = `<i class="fa-solid fa-book-open"></i> ${translations.nav.links[lang]}`;
            document.getElementById('navChecklist').innerHTML = `<i class="fa-solid fa-list-check"></i> ${translations.nav.checklist[lang]}`;

            renderContent();
        }
        
        function showSection(id, btn) {
            // Hide sections
            document.querySelectorAll('.section').forEach(el => el.classList.remove('active'));
            // Update tabs
            document.querySelectorAll('.nav-tab').forEach(el => el.classList.remove('active'));

            // Show current
            document.getElementById(id).classList.add('active');
            if(btn) btn.classList.add('active');
            activeSection = id;
        }

        function renderContent() {
            // 1. GENERAL SECTION
            var genData = translations.general;
            var genContainer = document.getElementById('general');
            genContainer.innerHTML = `
                <div class="info-box">
                    <h3>${genData.welcome_title[currentLang]}</h3>
                    <p>${genData.welcome_text[currentLang]}</p>
                </div>
                <div class="tip-box">
                    <strong><i class="fa-solid fa-users"></i> ${genData.tribe_title[currentLang]}</strong>
                    <p>${genData.tribe_text[currentLang]}</p>
                </div>
            `;

            // 2. FIND SERVER SECTION
            var stepData = translations.find_steps;
            var guideHTML = '';
            stepData.forEach(function(step, index) {
                guideHTML += `
                    <div class="step-card">
                        <div class="step-header">
                            <div class="step-number">${index + 1}</div>
                            <div class="step-title">${step.title[currentLang]}</div>
                        </div>
                        <div class="step-body">
                            <p class="step-text">${step.text[currentLang]}</p>
                            <img src="${step.img}" class="step-img" onclick="openModal(this.src)">
                        </div>
                    </div>
                `;
            });
            document.getElementById('find').innerHTML = guideHTML;

            // 3. LINKING SECTION (Detailed)
            var linkDataSteps = translations.linking_steps;
            var linkHTML = `
                <div class="alert-box">
                    <strong><i class="fa-solid fa-circle-exclamation"></i> Wichtig / Important</strong>
                    <p style="margin:0;">${translations.linking.text[currentLang]}</p>
                </div>
            `;
            
            linkDataSteps.forEach(function(step, index) {
                var imgHTML = step.img ? `<img src="${step.img}" class="step-img" onclick="openModal(this.src)">` : '';
                linkHTML += `
                    <div class="step-card">
                        <div class="step-header">
                            <div class="step-number">${index + 1}</div>
                            <div class="step-title">${step.title[currentLang]}</div>
                        </div>
                        <div class="step-body">
                            <p class="step-text">${step.text[currentLang]}</p>
                            ${imgHTML}
                        </div>
                    </div>
                `;
            });

            // Add Videos for Console
            linkHTML += `
                <div class="info-box" style="margin-top:20px;">
                    <h3><i class="fa-solid fa-gamepad"></i> Konsolen Hilfe (Lokalchat)</h3>
                    <div style="display:grid; grid-template-columns: 1fr 1fr; gap:15px;">
                        <div>
                            <strong style="color:#94bd7b">Xbox</strong>
                            <div class="video-container"><iframe src="https://www.youtube.com/embed/OoAhKjZcxj8?rel=0&showinfo=0" frameborder="0" allowfullscreen></iframe></div>
                        </div>
                        <div>
                            <strong style="color:#3984c6">Playstation</strong>
                            <div class="video-container"><iframe src="https://www.youtube.com/embed/SbLmRf_6sSM?rel=0&showinfo=0" frameborder="0" allowfullscreen></iframe></div>
                        </div>
                    </div>
                </div>
            `;

            document.getElementById('linking').innerHTML = linkHTML;

            // 4. LINKS SECTION
            var linkDataList = translations.links;
            var linksHTML = '<div class="link-grid">';
            linkDataList.forEach(function(l) {
                linksHTML += `
                    <a href="${l.url}" target="_blank" class="link-card">
                        <i class="${l.icon} link-icon"></i>
                        <div class="link-title">${l.title[currentLang]}</div>
                        <div class="link-sub">${l.sub[currentLang]}</div>
                    </a>
                `;
            });
            linksHTML += '</div>';
            document.getElementById('links').innerHTML = linksHTML;

            // 5. CHECKLIST SECTION
            var checkData = translations.checklist;
            var checkHTML = `<div class="info-box"><h3><i class="fa-solid fa-list-check"></i> ${checkData.title[currentLang]}</h3><ul class="check-list">`;
            
            checkData.items.forEach(function(item, index) {
                var cls = item.important ? 'checklist-item important' : 'checklist-item';
                checkHTML += `
                    <li class="${cls}">
                        <div class="step-number" style="width:30px; height:30px; font-size:1rem;">${index + 1}</div>
                        <span style="color:#fff; font-size:1.1rem;">${item.text[currentLang]}</span>
                    </li>`;
            });
            checkHTML += `</ul></div>`;
            document.getElementById('checklist').innerHTML = checkHTML;
        }

        // Modal Logic
        var modal = document.getElementById('imgModal');
        var modalImg = document.getElementById('modalImg');

        function openModal(src) {
            modalImg.src = src;
            modal.classList.add('active');
        }

        function closeModal() {
            modal.classList.remove('active');
        }

        // Safe Init
        window.onload = function() {
            // Ensure content containers exist (Safety Check although they are in HTML)
            var contentArea = document.getElementById('contentArea');
            if(!contentArea.children.length) {
                 contentArea.innerHTML = `
                    <div id="general" class="section active"></div>
                    <div id="find" class="section"></div>
                    <div id="linking" class="section"></div>
                    <div id="links" class="section"></div>
                    <div id="checklist" class="section"></div>
                `;
            }
            
            // Add Modal Listener
            modal = document.getElementById('imgModal');
            if(modal) {
                modal.addEventListener('click', function(e) { 
                    if(e.target === modal) closeModal(); 
                });
            }

            setLang('de');
        };
    </script>
</body>
</html>
