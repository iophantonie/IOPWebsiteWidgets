<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IOP Trait & Gen Wiki</title>
    <link href="https://fonts.googleapis.com/css2?family=Acme&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        /* Farben und Schriftarten - IOP Style */
        :root {
            --color-red: #E53935;
            --color-dark: rgba(20, 20, 20, 0.95);
            --color-light-dark: rgba(40, 40, 40, 0.9);
            --color-text: #f7f7f7;
            --color-gold: #FFEB3B;
            --color-stat: #4CAF50; /* Gr√ºn f√ºr Stats/Attribute */
            --color-combat: #F44336; /* Rot f√ºr Kampf */
            --color-utility: #2196F3; /* Blau f√ºr Utility */
            --color-breeding: #9C27B0; /* Lila f√ºr Zucht */
            
            --font-main: sans-serif;
            --font-header: 'Acme', sans-serif;
        }

        * { box-sizing: border-box; }

        body {
            background-color: transparent;
            font-family: var(--font-main);
            color: var(--color-text);
            margin: 0;
            padding: 10px; /* Reduziert von 20px f√ºr mehr Platz auf Mobile */
            display: flex;
            flex-direction: column;
            align-items: center;
            height: 100vh;
            overflow: hidden; /* Scrollen nur im Grid, nicht Body */
        }

        /* Container */
        .wiki-container {
            background-color: var(--color-dark);
            border-radius: 12px;
            border: 3px solid var(--color-red);
            box-shadow: 0 4px 30px rgba(0, 0, 0, 0.8);
            width: 100%;
            max-width: 1600px;
            display: flex;
            flex-direction: column;
            overflow: hidden;
            height: 95%; /* Nutze fast volle H√∂he */
            max-height: 95vh;
        }

        /* Header */
        .wiki-header {
            background-color: rgba(0, 0, 0, 0.5);
            padding: 15px;
            text-align: center;
            border-bottom: 2px solid var(--color-red);
            flex-shrink: 0;
        }

        .wiki-title {
            font-family: var(--font-header);
            font-size: 1.8rem; /* Etwas kleiner f√ºr Mobile */
            color: var(--color-red);
            text-transform: uppercase;
            margin: 0 0 15px 0;
            text-shadow: 0 0 10px rgba(229, 57, 53, 0.4);
        }

        /* Controls: Suche & Filter */
        .controls-area {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
            margin-bottom: 5px;
        }

        .search-wrapper {
            position: relative;
            flex-grow: 1;
            max-width: 400px;
            min-width: 200px;
        }

        .search-input {
            width: 100%;
            padding: 10px 15px 10px 35px;
            border-radius: 8px;
            border: 2px solid #555;
            background-color: rgba(255, 255, 255, 0.1);
            color: #fff;
            font-size: 0.95rem;
            transition: border-color 0.3s;
        }

        .search-input:focus {
            outline: none;
            border-color: var(--color-red);
        }

        .search-icon {
            position: absolute;
            left: 12px;
            top: 50%;
            transform: translateY(-50%);
            color: #aaa;
            font-size: 0.9rem;
        }

        /* Filter Buttons */
        .filter-group {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .filter-btn {
            background-color: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: #ccc;
            padding: 8px 12px;
            border-radius: 6px;
            cursor: pointer;
            font-family: var(--font-header);
            text-transform: uppercase;
            font-size: 0.9rem;
            transition: all 0.2s;
            flex-grow: 1; /* Buttons f√ºllen Raum auf Mobile */
        }

        .filter-btn:hover {
            background-color: rgba(255, 255, 255, 0.15);
            color: #fff;
        }

        .filter-btn.active {
            background-color: var(--color-red);
            border-color: var(--color-red);
            color: #fff;
            box-shadow: 0 0 10px rgba(229, 57, 53, 0.4);
        }

        /* Content Grid */
        .grid-container {
            flex-grow: 1;
            overflow-y: auto;
            padding: 15px;
            display: grid;
            /* WICHTIG: Minmax auf 280px reduziert f√ºr Mobile Support */
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); 
            gap: 15px;
            scrollbar-width: thin;
            scrollbar-color: var(--color-red) transparent;
        }

        .grid-container::-webkit-scrollbar { width: 8px; }
        .grid-container::-webkit-scrollbar-thumb { background-color: var(--color-red); border-radius: 4px; }

        /* Trait Card */
        .trait-card {
            background-color: var(--color-light-dark);
            border-radius: 8px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            padding: 15px;
            display: flex;
            flex-direction: column;
            gap: 10px;
            transition: transform 0.2s, box-shadow 0.2s, border-color 0.2s;
            position: relative;
            overflow: hidden;
            height: 100%; /* Einheitliche H√∂he im Grid */
        }

        .trait-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);
            border-color: var(--color-gold);
        }

        /* Kategorie-Streifen an der Seite */
        .trait-card::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            bottom: 0;
            width: 4px;
            background-color: #555;
        }

        .trait-card[data-cat="Kampf"]::before { background-color: var(--color-combat); }
        .trait-card[data-cat="Attribute"]::before { background-color: var(--color-stat); }
        .trait-card[data-cat="Utility"]::before { background-color: var(--color-utility); }
        .trait-card[data-cat="Zucht"]::before { background-color: var(--color-breeding); }

        .card-header-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            padding-bottom: 8px;
            margin-bottom: 0;
        }

        .trait-name-container {
            display: flex;
            flex-direction: column;
            width: 85%; /* Platz f√ºr Icon lassen */
        }

        .trait-name-de {
            font-family: var(--font-header);
            font-size: 1.3rem;
            color: #fff;
            font-weight: 700;
            line-height: 1.1;
        }
        
        .trait-name-en {
            color: #aaa;
            font-size: 0.85rem;
            font-family: var(--font-main);
            font-weight: normal;
            font-style: italic;
            margin-top: 2px;
        }

        .trait-icon {
            font-size: 1.4rem;
            color: var(--color-gold);
        }

        .trait-desc {
            font-size: 0.85rem;
            line-height: 1.4;
            color: #ddd;
            min-height: 40px; /* Etwas reduziert */
        }

        /* Werte Box */
        .values-box {
            background-color: rgba(0, 0, 0, 0.3);
            border-radius: 6px;
            padding: 8px;
            font-size: 0.85rem;
            margin-top: auto; /* Dr√ºckt die Box nach unten */
        }

        .value-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 4px;
            border-bottom: 1px dashed rgba(255,255,255,0.1);
            padding-bottom: 2px;
        }
        .value-row:last-child { border-bottom: none; margin-bottom: 0; }

        .tier-label { color: #aaa; }
        .tier-val { color: var(--color-gold); font-weight: bold; }

        /* Footer Infos */
        .card-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 10px;
            font-size: 0.75rem;
            padding-top: 8px;
            border-top: 1px solid rgba(255, 255, 255, 0.05);
        }

        .stack-info {
            color: #ccc;
        }
        .stack-info span {
            color: var(--color-red);
            font-weight: bold;
            font-size: 0.9rem;
        }
        
        .tag {
            font-size: 0.7rem;
            padding: 2px 6px;
            border-radius: 10px;
            background-color: rgba(255,255,255,0.1);
            color: #aaa;
            text-transform: uppercase;
        }

        /* Empty State */
        .no-results {
            grid-column: 1 / -1;
            text-align: center;
            padding: 50px;
            font-size: 1.5rem;
            color: #666;
            font-family: var(--font-header);
        }
        
        /* Media Query f√ºr sehr kleine Bildschirme */
        @media (max-width: 480px) {
             .filter-btn span { display: none; } /* Versteckt Icons in Buttons bei Platzmangel optional */
             .wiki-title { font-size: 1.5rem; }
        }

    </style>
</head>
<body>

    <div class="wiki-container">
        
        <div class="wiki-header">
            <h1 class="wiki-title">üß¨ Gen & Trait Wiki</h1>
            
            <div class="controls-area">
                <!-- Suche -->
                <div class="search-wrapper">
                    <i class="fa-solid fa-search search-icon"></i>
                    <input type="text" id="searchInput" class="search-input" placeholder="Suche...">
                </div>

                <!-- Filter -->
                <div class="filter-group">
                    <button class="filter-btn active" data-filter="all">Alle</button>
                    <button class="filter-btn" data-filter="Kampf">Kampf</button>
                    <button class="filter-btn" data-filter="Utility">Utility</button>
                    <button class="filter-btn" data-filter="Attribute">Stats</button>
                    <button class="filter-btn" data-filter="Zucht">Zucht</button>
                </div>
            </div>
        </div>

        <div id="contentGrid" class="grid-container">
            <!-- Karten werden hier generiert -->
        </div>

    </div>

    <script>
        // DATENBANK DER TRAITS (Alle 29 aus der Liste)
        const traitData = [
            // --- KAMPF ---
            {
                name_de: "Aggressiv", name_en: "Aggressive",
                category: "Kampf",
                desc: "Wenn diese Kreatur Schaden verursacht, erh√§lt sie einen Bewegungsgeschwindigkeits-Buff f√ºr 5 Sekunden.",
                t1: "2.5% Speed", t2: "3.75% Speed", t3: "5.0% Speed",
                stack: 2, icon: "fa-bolt"
            },
            {
                name_de: "W√ºtend", name_en: "Angry",
                category: "Kampf",
                desc: "Verursacht mehr Schaden basierend auf der aktuellen Gesundheit (Bonus beginnt bei 50% HP).",
                t1: "1.25% Dmg", t2: "1.875% Dmg", t3: "2.5% Dmg",
                stack: 2, icon: "fa-face-angry"
            },
            {
                name_de: "Blutrausch", name_en: "Frenzy",
                category: "Kampf",
                desc: "Erh√∂ht Schaden und Geschwindigkeit nach einem Kill kurzzeitig.",
                t1: "10% Dmg/Speed", t2: "15% Dmg/Speed", t3: "20% Dmg/Speed",
                stack: 3, icon: "fa-fire"
            },
            {
                name_de: "Riesent√∂ter", name_en: "Giantslaying",
                category: "Kampf",
                desc: "Mehr Schaden gegen gro√üe Kreaturen (>500 Drag Weight), weniger Schaden gegen kleine (<200).",
                t1: "+2.5% Large / -7.5% Small", t2: "+3.75% Large / -11.25% Small", t3: "+5.0% Large / -15.0% Small",
                stack: 2, icon: "fa-axe"
            },
            {
                name_de: "Wuchtschlag", name_en: "Heavy-Hitting",
                category: "Kampf",
                desc: "Verursacht mehr Nahkampfschaden, hat aber eine verringerte Angriffsgeschwindigkeit.",
                t1: "+2.5% Dmg / -5% Speed", t2: "+3.75% Dmg / -7.5% Speed", t3: "+5.0% Dmg / -10.0% Speed",
                stack: 3, icon: "fa-hammer"
            },
            {
                name_de: "K√∂nigsm√∂rder", name_en: "Kingslaying",
                category: "Kampf",
                desc: "Erh√∂hter Schaden gegen Bosse und Alphas, verringerter Schaden gegen alle anderen.",
                t1: "+5% Boss / -10% Andere", t2: "+7.5% Boss / -15% Andere", t3: "+10% Boss / -20% Andere",
                stack: 3, icon: "fa-crown"
            },
            {
                name_de: "Taub", name_en: "Numb",
                category: "Kampf",
                desc: "Ein Teil des erlittenen Schadens wird in Schaden √ºber Zeit (DoT) umgewandelt.",
                t1: "25% DoT", t2: "37.5% DoT", t3: "50.0% DoT",
                stack: 1, icon: "fa-capsules"
            },
            {
                name_de: "Besch√ºtzend", name_en: "Protective",
                category: "Kampf",
                desc: "Reduziert den Schaden, den der Reiter erleidet.",
                t1: "-15.0% Schaden", t2: "-22.5% Schaden", t3: "-30.0% Schaden",
                stack: 2, icon: "fa-user-shield"
            },
            {
                name_de: "Flinkschlag", name_en: "Quick-Hitting",
                category: "Kampf",
                desc: "Greift schneller an, verursacht aber weniger Nahkampfschaden.",
                t1: "+2.5% Speed / -5% Dmg", t2: "+3.75% Speed / -7.5% Dmg", t3: "+5.0% Speed / -10.0% Dmg",
                stack: 3, icon: "fa-wind"
            },
            {
                name_de: "Z√§h", name_en: "Tenacious",
                category: "Kampf",
                desc: "Nimmt weniger Schaden basierend auf aktueller Gesundheit (Effekt startet bei 50% HP).",
                t1: "-12.5% Dmg", t2: "-18.75% Dmg", t3: "-25.0% Dmg",
                stack: 3, icon: "fa-heart-pulse"
            },
            {
                name_de: "Vampirisch", name_en: "Vampiric",
                category: "Kampf",
                desc: "Heilt den Dino um einen Prozentsatz des verursachten Schadens (Effekt sinkt bei hohem Drag Weight).",
                t1: "5% Lifesteal", t2: "7.5% Lifesteal", t3: "10.0% Lifesteal",
                stack: 1, icon: "fa-droplet"
            },
             {
                name_de: "Ablenkend", name_en: "Distracting",
                category: "Kampf",
                desc: "Gegner, die von diesem Dino getroffen werden, verursachen 20s lang weniger Schaden an anderen.",
                t1: "-5% Dmg", t2: "-7.5% Dmg", t3: "-10% Dmg",
                stack: 1, icon: "fa-mask"
            },
            {
                name_de: "Aufgeregt", name_en: "Excitable",
                category: "Kampf",
                desc: "Treffer mit dem Basis-Angriff reduzieren die Abklingzeit anderer F√§higkeiten.",
                t1: "-0.25s CD", t2: "-0.375s CD", t3: "-0.5s CD",
                stack: 1, icon: "fa-stopwatch"
            },

            // --- UTILITY / ATTRIBUTE ---
            {
                name_de: "Athletisch", name_en: "Athletic",
                category: "Attribute",
                desc: "Erh√§lt HP- und Stamina-Regeneration basierend auf dem Sauerstoff-Wert.",
                t1: "0.05 Reg/Oxy", t2: "0.075 Reg/Oxy", t3: "0.1 Reg/Oxy",
                stack: 3, icon: "fa-person-running"
            },
            {
                name_de: "Aquatisch", name_en: "Aquatic/Swimmer",
                category: "Utility",
                desc: "Schwimmt schneller und verbraucht weniger Sauerstoff/Ausdauer im Wasser.",
                t1: "+7.5% Speed", t2: "+11.25% Speed", t3: "+15% Speed",
                stack: 3, icon: "fa-water"
            },
            {
                name_de: "Lastentr√§ger", name_en: "Bearing/Carrier",
                category: "Utility",
                desc: "Reduziert das Gewicht einer spezifischen Item-Kategorie im Inventar.",
                t1: "-15% Gewicht", t2: "-22.5% Gewicht", t3: "-30% Gewicht",
                stack: 3, icon: "fa-weight-hanging"
            },
            {
                name_de: "Sorglos", name_en: "Carefree",
                category: "Utility",
                desc: "Erh√§lt einen Bewegungsgeschwindigkeits-Bonus, der bei Kampf oder Reiter verloren geht.",
                t1: "+7.5% Speed", t2: "+11.25% Speed", t3: "+15.0% Speed",
                stack: 1, icon: "fa-feather"
            },
            {
                name_de: "K√§lteresistent", name_en: "Cold",
                category: "Utility",
                desc: "Kreatur und Reiter erhalten Hitzeschutz (Hyperthermic) und weniger Feuerschaden.",
                t1: "40 Iso / -5% Fire", t2: "60 Iso / -7.5% Fire", t3: "80 Iso / -10% Fire",
                stack: 3, icon: "fa-sun"
            },
            {
                name_de: "Feige", name_en: "Cowardly",
                category: "Utility",
                desc: "Erh√§lt einen Geschwindigkeits-Buff, wenn Schaden von nicht-verb√ºndeten Zielen genommen wird.",
                t1: "+2.5% Speed", t2: "+3.75% Speed", t3: "+5.0% Speed",
                stack: 3, icon: "fa-person-falling-burst"
            },
            {
                name_de: "Tagaktiv", name_en: "Diurnal",
                category: "Utility",
                desc: "Reduziert den Ausdauerverbrauch am Tag.",
                t1: "-2.5% Stamina", t2: "-3.75% Stamina", t3: "-5.0% Stamina",
                stack: 3, icon: "fa-sun"
            },
            {
                name_de: "Schnelllerner", name_en: "Fast Learner",
                category: "Utility",
                desc: "Erh√∂ht den Erfahrungsgewinn.",
                t1: "+15% XP", t2: "+22.5% XP", t3: "+30% XP",
                stack: 3, icon: "fa-graduation-cap"
            },
            {
                name_de: "Fettpolster", name_en: "Fatty",
                category: "Attribute",
                desc: "Erh√§lt R√ºstung basierend auf dem Nahrungswert.",
                t1: "0.1 R√ºstung/Food", t2: "0.15 R√ºstung/Food", t3: "0.2 R√ºstung/Food",
                stack: 3, icon: "fa-shield-heart"
            },
            {
                name_de: "Frenetisch", name_en: "Frenetic",
                category: "Attribute",
                desc: "Erh√∂ht die Erholung von Bet√§ubung (Torpor).",
                t1: "+7.5% Recovery", t2: "+11.25% Recovery", t3: "+15.0% Recovery",
                stack: 3, icon: "fa-bed"
            },
            {
                name_de: "Nachtaktiv", name_en: "Nocturnal",
                category: "Utility",
                desc: "Reduziert den Ausdauerverbrauch in der Nacht.",
                t1: "-2.5% Stamina", t2: "-3.7% Stamina", t3: "-5.0% Stamina",
                stack: 3, icon: "fa-moon"
            },
            {
                name_de: "Langsamer Stoffwechsel", name_en: "Slow Metabolism",
                category: "Utility",
                desc: "Verbraucht weniger Nahrung (auch f√ºr F√§higkeiten wie Daedon-Heilung).",
                t1: "-5% Food", t2: "-7.5% Food", t3: "-10% Food",
                stack: 3, icon: "fa-utensils"
            },
            {
                name_de: "Sprinter", name_en: "Sprinter",
                category: "Utility",
                desc: "Verbraucht weniger Ausdauer beim Sprinten.",
                t1: "-4% Stamina", t2: "-6% Stamina", t3: "-8% Stamina",
                stack: 3, icon: "fa-shoe-prints"
            },
            {
                name_de: "W√§rme", name_en: "Warm",
                category: "Utility",
                desc: "Kreatur und Reiter erhalten K√§lteschutz (Hypothermic) und weniger Eisschaden.",
                t1: "40 Iso / -5% Ice", t2: "60 Iso / -7.5% Ice", t3: "80 Iso / -10% Ice",
                stack: 3, icon: "fa-snowflake"
            },

            // --- ZUCHT ---
            {
                name_de: "Robust", name_en: "Robust",
                category: "Zucht",
                desc: "Erh√∂ht die Wahrscheinlichkeit, den H√ñHEREN Stat der Eltern zu vererben.",
                t1: "+1.5% Chance", t2: "+2.25% Chance", t3: "+3.0% Chance",
                stack: 3, icon: "fa-dna"
            },
            {
                name_de: "Gebrechlich", name_en: "Frail",
                category: "Zucht",
                desc: "VERRINGERT die Wahrscheinlichkeit, den H√ñHEREN Stat der Eltern zu vererben.",
                t1: "-1.5% Chance", t2: "-2.25% Chance", t3: "-3.0% Chance",
                stack: 3, icon: "fa-link-slash"
            },
            {
                name_de: "Ver√§nderlich", name_en: "Mutable",
                category: "Zucht",
                desc: "Erh√∂ht die Wahrscheinlichkeit f√ºr eine Mutation auf einem bestimmten Stat.",
                t1: "+1.0% Chance", t2: "+1.5% Chance", t3: "+2.0% Chance",
                stack: 3, icon: "fa-bacterium"
            }
        ];

        // ELEMENTE
        const grid = document.getElementById('contentGrid');
        const searchInput = document.getElementById('searchInput');
        const filterBtns = document.querySelectorAll('.filter-btn');

        // RENDER FUNKTION
        function renderTraits(filterCat = 'all', searchText = '') {
            grid.innerHTML = '';
            
            const filteredData = traitData.filter(trait => {
                const matchesCat = filterCat === 'all' || trait.category === filterCat;
                const matchesSearch = trait.name_de.toLowerCase().includes(searchText.toLowerCase()) || 
                                      trait.name_en.toLowerCase().includes(searchText.toLowerCase()) || 
                                      trait.desc.toLowerCase().includes(searchText.toLowerCase());
                return matchesCat && matchesSearch;
            });

            if (filteredData.length === 0) {
                grid.innerHTML = '<div class="no-results">Keine Gene gefunden... vielleicht neu z√ºchten? üß¨</div>';
                return;
            }

            filteredData.forEach(trait => {
                const card = document.createElement('div');
                card.className = 'trait-card';
                card.setAttribute('data-cat', trait.category);
                
                card.innerHTML = `
                    <div class="card-header-row">
                        <div class="trait-name-container">
                            <span class="trait-name-de">${trait.name_de}</span>
                            <span class="trait-name-en">/ ${trait.name_en}</span>
                        </div>
                        <i class="fa-solid ${trait.icon} trait-icon"></i>
                    </div>
                    
                    <div class="trait-desc">${trait.desc}</div>
                    
                    <div class="values-box">
                        <div class="value-row">
                            <span class="tier-label">1 Stack (T1):</span>
                            <span class="tier-val">${trait.t1}</span>
                        </div>
                        <div class="value-row">
                            <span class="tier-label">2 Stacks (T2):</span>
                            <span class="tier-val">${trait.t2}</span>
                        </div>
                        <div class="value-row">
                            <span class="tier-label">3 Stacks (T3):</span>
                            <span class="tier-val">${trait.t3}</span>
                        </div>
                    </div>

                    <div class="card-footer">
                        <div class="stack-info">Max. Stapel: <span>${trait.stack}</span></div>
                        <span class="tag">${trait.category}</span>
                    </div>
                `;
                
                grid.appendChild(card);
            });
        }

        // EVENT LISTENERS
        searchInput.addEventListener('input', (e) => {
            const activeBtn = document.querySelector('.filter-btn.active');
            const currentFilter = activeBtn ? activeBtn.dataset.filter : 'all';
            renderTraits(currentFilter, e.target.value);
        });

        filterBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                filterBtns.forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                
                const filter = btn.dataset.filter;
                const search = searchInput.value;
                renderTraits(filter, search);
            });
        });

        // Initial Render
        renderTraits();

    </script>
</body>
</html>
